{{define "events.html"}}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>{{.Title}}</title>
    {{template "base_head" .}}
  </head>
  <body>
    {{template "base_nav" .}}
    <div class="container my-4">
      <h2 class="fw-bold">Events</h2>
      <a class="btn btn-primary mb-3" href="/events/new"><i class="bi bi-plus-circle me-1"></i> Create New Event</a>
      {{if .Events}}
      <ul class="list-group shadow-sm">
        {{range .Events}}
        <li class="list-group-item d-flex justify-content-between align-items-center position-relative" id="event-{{.ID}}">
          <div>
            <a class="fw-semibold text-decoration-none stretched-link" href="/events/{{.ID}}">{{.Name}}</a>
            <span class="text-muted ms-2">{{.Date}}</span>
          </div>
          <button type="button" class="btn icon-btn" title="Delete event" hx-delete="/events/{{.ID}}" hx-target="#event-{{.ID}}" hx-swap="delete" hx-confirm="Delete this event?">
            <i class="bi bi-trash"></i>
          </button>
        </li>
        {{end}}
      </ul>
      {{else}}
      <p>No events yet!</p>
      {{end}}
    </div>
    {{template "base_mobile_tabs" .}}
    <div id="app-toast" class="app-toast" aria-live="polite"></div>
    {{template "base_scripts" .}}
  </body>
</html>
{{end}}
